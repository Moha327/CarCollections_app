{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script>
      function readURL(input) {
    if (input.files && input.files[0]) {
  
      var reader = new FileReader();
  
      reader.onload = function(e) {
        
  
        $('{{c.profilepicture}}').attr('{{c.profilepicture }}', e.target.result);
       
  
        $('{{c.profilepicture}}').html(input.files[0].name);
      };
  
      reader.readAsDataURL(input.files[0]);
  
    } else {
      removeUpload();
    }
  }
  function getImgURL(url, callback){
  var xhr = new XMLHttpRequest();
  xhr.onload = function() {
      callback(xhr.response);
  };
  xhr.open('GET', url);
  xhr.responseType = 'blob';
  xhr.send();
}
  function removeUpload() {
    $('c.profilepicture').replaceWith($('c.profilepicture').clone());
    $('c.profilepicture').hide();
    $('c.image-upload-wrap').show();
  }
  $('.image-upload-wrap').bind('dragover', function () {
          $('.image-upload-wrap').addClass('image-dropping');
      });
      $('.image-upload-wrap').bind('dragleave', function () {
          $('.image-upload-wrap').removeClass('image-dropping');
  });
  
  </script>
</head>

<body class="p-3 mb-2 bg-dark text-white">
  <div style="background-color: rgba(80, 67, 107, 0.171);" class="d-flex justify-content-between text-white border border-0 ">
    <h4>CARCOLLECTIONS |</h4>
    <div class="d-flex  row gx-1">
        <div class="col">
            <a  style="margin-right: 30px; display: inline !important;color: #E2E8EA; text-decoration: none;" href="/catalogue">CATALOGUE</a> 
        </div>
        <div class="col">
            <a  style="margin-right: 30px; display: inline !important;color: #E2E8EA; text-decoration: none;" href="/car/add">CREATE&nbsp;CAR</a> 
        </div>
        <div class="col">
            <a style=" color: #E2E8EA; text-decoration: none;" href="/profile/details">PROFILE</a> 
        </div>
    </div>
</div>
    <div style="height: 96=8%; margin-top: 90px; border-top-left-radius: 50px; border-bottom-left-radius: 50px;" class="border border-white w-40 p-5 position-absolute top-50 start-50 translate-middle">
        {% if messages %}
        <ul class="messages">
            {% for message in messages %}
                <li {% if message.tags %} class="{{ message.tags }}" {% endif %}>{{ message }}</li>
            {% endfor %}
        </ul>
        {% endif %}
        
        
        <form  method="POST" action="/profile/edit" enctype="multipart/form-data">
          <h4 style="margin-left: 90px;">EDIT PROFILE</h4>
          {% csrf_token %} 
                
                <label for="uname"  class="form-label">Username</label>
                <input type="text" class="form-control"  id="uname" name="uname" value="{{c.username}}">
                
                <label for="el"  class="form-label">Email</label>
                <input type="email" class="form-control" id="el"  name="el" value="{{c.email}}">
                
                <label for="ae"  class="form-label">Age</label>
                <input type="number" class="form-control" id="ae" min="18",max="70"  name="ae"  value="{{c.age}}">
              
                <label for="fname"  class="form-label">Firstname</label>
                <input type="text" class="form-control form-control-sm" id="fname"  name="fname"  value="{{c.firstname}}">

                <label for="lname"  class="form-label">Lastname</label>
                <input type="text" class="form-control" id="lname"  name="lname" value="{{c.lastname}}">
                 
                <label for="password">Password:</label>
                <input  type="password" name="paswd" id="paswd" class="form-control" value="{{c.password}}">
                
                <label for="ppicture" class="form-label">Image</label>
                
                <input  type="file"  accept="images/*"  class="form-control"  name="ppicture"  >
               
                <br/> 
                
                
                <button type="submit" class="btn btn-primary">Update Profile</button>
        </form>
        
      
    </div>
   
</body>
</html>